<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
    <link rel="stylesheet" href="StyleSheet.css" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <meta charset="utf-8" />
    <title>
        Specials
    </title>
</head>
<body>
    <div class="navbar">
        <a th:href="@{/Index}">Home</a>
        <a th:href="@{/Inventory/New}">New Inventory</a>
        <a th:href="@{/Inventory/Used}">Used Inventory</a>
        <a th:href="@{/Inventory/Specials}">Specials</a>
        <a th:href="@{/Contact}">Contact</a>
        <a href="login" sec:authorize="hasRole('ADMIN')">Admin</a> 
        <a href="login" sec:authorize="hasRole('ADMIN') OR hasRole('SALES')">Sales</a>
    </div>
    
    <br />
    <br />
    <br />
    <div class="container"><h1>Specials</h1></div>    
    
    <div sec:authorize="hasRole('ADMIN')">
        <div>
            <form  th:action="@{/addSpecial}" method="post">
                <label for="name">Title</label> <br />
                <input type="text" id="specialTitle" name="specialTitle" />
                <br />
                <label for="description">Description</label> <br />
                <textarea id="specialDescription" name="specialDescription"></textarea>
                <br />
                <input type="submit" value="Submit">
            </form>
        </div>
    </div>
        <table>
        <tr th:each="special : ${specials}">
            <th th:text="${special.SpecialTitle}"> </th>
            <th th:text="${special.SpecialDescription}"> </th>
            <a sec:authorize="hasRole('ADMIN')" th:href="@{/deleteSpecial(title=${special.SpecialTitle})}" class="btn btn-danger">Delete</a>
        </tr>
        </table>
</body>
</html>

